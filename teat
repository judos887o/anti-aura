local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")

local function isA(x,c) return typeof(x)=="Instance" and x:IsA(c) end

local function nuke(x)
  if x and x.Parent then
    pcall(function() x:Destroy() end)
  end
end

-- Liste ALLER zu entfernenden Effekt-Typen
local function shouldNuke(d)
  return isA(d,"Accessory")
    or isA(d,"WrapLayer") or isA(d,"WrapTarget") or isA(d,"SurfaceAppearance")
    or isA(d,"Highlight") or isA(d,"ForceField")
    or isA(d,"ParticleEmitter") or isA(d,"Sparkles") or isA(d,"Fire") or isA(d,"Smoke")
    or isA(d,"Trail") or isA(d,"Beam")
    or isA(d,"BillboardGui") or isA(d,"SurfaceGui")
    or isA(d,"PointLight") or isA(d,"SpotLight") or isA(d,"SurfaceLight")
    or isA(d,"Decal") or isA(d,"Texture")
    or isA(d,"ArcHandles") or isA(d,"Handles")
    or isA(d,"SelectionBox") or isA(d,"SelectionSphere")
    or isA(d,"BoxHandleAdornment") or isA(d,"ConeHandleAdornment")
    or isA(d,"CylinderHandleAdornment") or isA(d,"ImageHandleAdornment")
    or isA(d,"LineHandleAdornment") or isA(d,"SphereHandleAdornment")
end

-- 1. Initiales Cleanup (nur EINMAL beim Start)
task.spawn(function()
  for _,d in ipairs(Workspace:GetDescendants()) do
    if shouldNuke(d) then
      nuke(d)
    end
  end
end)

-- 2. HAUPTLISTENER - fängt ALLES ab was neu hinzugefügt wird
Workspace.DescendantAdded:Connect(function(d)
  if shouldNuke(d) then
    nuke(d)
  end
end)

-- 3. Lighting-Effekte blockieren
for _,e in ipairs(Lighting:GetChildren()) do
  if e:IsA("PostEffect") or e:IsA("Atmosphere") then
    nuke(e)
  end
end

Lighting.ChildAdded:Connect(function(e)
  if e:IsA("PostEffect") or e:IsA("Atmosphere") then
    nuke(e)
  end
end)

-- 4. Lighting-Properties
pcall(function()
  Lighting.GlobalShadows = false
  Lighting.EnvironmentDiffuseScale = 0
  Lighting.EnvironmentSpecularScale = 0
  Lighting.Brightness = 1
end)

print("✅ Effekte entfernt - Performance-optimiert!")
